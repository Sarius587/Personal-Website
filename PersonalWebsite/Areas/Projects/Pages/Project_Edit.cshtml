@page
@model PersonalWebsite.Areas.Projects.Pages.ProjectEditModel
@using PersonalWebsite.GithubService;
@{
    ViewData["Title"] = "Edit Project";
}

@section stylesheets {
}

<div class="container spacer">
    <h1>Edit '@(Model.SelectedProject.Name)'</h1>

    <form method="post" class="mt-4" id="edit-form" enctype="multipart/form-data">
        <div class="form-group">
            <div id="editor" class="w-100"></div>
            <textarea asp-for="Upload.AdditionalRepositoryData.CustomExperience" class="form-control d-none"></textarea>
        </div>
        <div class="form-group">
            <select asp-for="Upload.AdditionalRepositoryData.TextFormat" asp-items="Html.GetEnumSelectList<ExperienceTextFormat>()" class="form-control mt-3 w-25" id="text-format-select" onchange="OnLanguageChange(this.value)"></select>
        </div>
        <div class="form-group">
            <input asp-for="Upload.PostImages" type="file" accept="image/*" multiple />
        </div>
        <button asp-page-handler="Upload" type="submit" class="btn btn-primary float-right mt-3">Edit</button>
    </form>


    
</div>

@section scripts {
    <script>var require = { paths: { 'vs': '/lib/monaco-editor/min/vs' } };</script>
    <script type="text/javascript" src="~/lib/monaco-editor/min/vs/loader.js"></script>
    <script type="text/javascript" src="~/lib/monaco-editor/min/vs/editor/editor.main.nls.js"></script>
    <script type="text/javascript" src="~/lib/monaco-editor/min/vs/editor/editor.main.js"></script>
    <script type="text/javascript" src="~/js/main_project_edit.js"></script>
}